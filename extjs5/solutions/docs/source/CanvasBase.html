<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">Ext.define(&#39;Ext.sparkline.CanvasBase&#39;, {
    requires: [
        &#39;Ext.sparkline.Shape&#39;
    ],

    shapeCount: 0,

    _pxregex: /(\d+)(px)?\s*$/i,

    setWidth: function(width) {
        this.pixelWidth = width;
    },

    setHeight: function(height) {
        this.pixelHeight = height;
    },

    drawLine: function (x1, y1, x2, y2, lineColor, lineWidth) {
        return this.drawShape([[x1, y1], [x2, y2]], lineColor, lineWidth);
    },

    drawShape: function (path, lineColor, fillColor, lineWidth) {
        return this._genShape(&#39;Shape&#39;, [path, lineColor, fillColor, lineWidth]);
    },

    drawCircle: function (x, y, radius, lineColor, fillColor, lineWidth) {
        return this._genShape(&#39;Circle&#39;, [x, y, radius, lineColor, fillColor, lineWidth]);
    },

    drawPieSlice: function (x, y, radius, startAngle, endAngle, lineColor, fillColor) {
        return this._genShape(&#39;PieSlice&#39;, [x, y, radius, startAngle, endAngle, lineColor, fillColor]);
    },

    drawRect: function (x, y, width, height, lineColor, fillColor) {
        return this._genShape(&#39;Rect&#39;, [x, y, width, height, lineColor, fillColor]);
    },

    getElement: function () {
        return this.el;
    },

    /*
     * Return the most recently inserted shape id
     */
    getLastShapeId: function () {
        return this.lastShapeId;
    },

    /*
     * Clear and reset the canvas
     */
    reset: function () {
        alert(&#39;reset not implemented&#39;);
    },

    /*
     * Generate a shape object and id for later rendering
     */
    _genShape: function (shapetype, shapeargs) {
        var id = this.shapeCount++;
        shapeargs.unshift(id);
        return new Ext.sparkline.Shape(this, id, shapetype, shapeargs);
    },

    /*
        * Add a shape to the end of the render queue
        */
    appendShape: function (shape) {
        alert(&#39;appendShape not implemented&#39;);
    },

    /*
        * Replace one shape with another
        */
    replaceWithShape: function (shapeid, shape) {
        alert(&#39;replaceWithShape not implemented&#39;);
    },

    /*
        * Insert one shape after another in the render queue
        */
    insertAfterShape: function (shapeid, shape) {
        alert(&#39;insertAfterShape not implemented&#39;);
    },

    /*
        * Remove a shape from the queue
        */
    removeShapeId: function (shapeid) {
        alert(&#39;removeShapeId not implemented&#39;);
    },

    /*
        * Find a shape at the specified x/y co-ordinates
        */
    getShapeAt: function (x, y) {
        alert(&#39;getShapeAt not implemented&#39;);
    },

    /*
        * Render all queued shapes onto the canvas
        */
    render: function () {
        alert(&#39;render not implemented&#39;);
    }
});
</pre>
</body>
</html>
